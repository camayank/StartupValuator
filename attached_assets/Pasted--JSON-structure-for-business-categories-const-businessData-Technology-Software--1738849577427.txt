// JSON structure for business categories
const businessData = {
    "Technology & Software": {
        "Enterprise Software": ["ERP", "CRM", "HRM"],
        "Cloud Computing": ["IaaS", "PaaS", "SaaS"],
        "AI & ML": ["NLP", "Computer Vision", "AI Analytics"],
        "Cybersecurity": ["Network Security", "Endpoint Security", "Cloud Security"]
    },
    "Healthcare & Life Sciences": {
        "Digital Health": ["Telehealth", "Mobile Health", "Health Analytics"],
        "Biotech": ["Gene Therapy", "Molecular Diagnostics", "Bioinformatics"],
        "Medical Devices": ["Diagnostic Devices", "Wearable Tech", "Surgical Robotics"]
    },
    "Financial Technology": {
        "Digital Banking": ["Neo Banking", "Open Banking", "Embedded Finance"],
        "Payments": ["Digital Payments", "Cross-Border Payments", "BNPL"],
        "WealthTech": ["Robo-Advisory", "Investment Platforms", "Personal Finance"]
    },
    "E-Commerce & Retail": {
        "Online Marketplace": ["Multi-Vendor Marketplace", "Social Commerce", "Niche Marketplaces"],
        "Direct-to-Consumer": ["Brand Commerce", "Subscription Commerce", "Custom Products"],
        "RetailTech": ["POS Systems", "Retail Analytics", "E-commerce SaaS"]
    },
    "Clean Technology": {
        "Renewable Energy": ["Solar Technology", "Wind Energy", "Hydro Energy"],
        "Energy Storage": ["Battery Technology", "Thermal Storage", "Hydrogen Storage"],
        "Sustainable Materials": ["Biodegradable Packaging", "Green Chemicals", "Recycling Tech"]
    }
};

// Populate Business Sector dropdown
const sectorDropdown = document.getElementById("sector");
const segmentDropdown = document.getElementById("segment");
const subSegmentDropdown = document.getElementById("subSegment");

// Populate Sectors on Page Load
window.onload = function() {
    for (const sector in businessData) {
        let option = document.createElement("option");
        option.value = sector;
        option.textContent = sector;
        sectorDropdown.appendChild(option);
    }
};

// Function to update Industry Segments based on selected Business Sector
function updateSegments() {
    segmentDropdown.innerHTML = '<option value="">Select Segment</option>';
    subSegmentDropdown.innerHTML = '<option value="">Select Sub-Segment</option>';
    segmentDropdown.disabled = true;
    subSegmentDropdown.disabled = true;

    const selectedSector = sectorDropdown.value;
    if (selectedSector) {
        for (const segment in businessData[selectedSector]) {
            let option = document.createElement("option");
            option.value = segment;
            option.textContent = segment;
            segmentDropdown.appendChild(option);
        }
        segmentDropdown.disabled = false;
    }
}

// Function to update Sub-Segments based on selected Industry Segment
function updateSubSegments() {
    subSegmentDropdown.innerHTML = '<option value="">Select Sub-Segment</option>';
    subSegmentDropdown.disabled = true;

    const selectedSector = sectorDropdown.value;
    const selectedSegment = segmentDropdown.value;

    if (selectedSector && selectedSegment) {
        businessData[selectedSector][selectedSegment].forEach(subSegment => {
            let option = document.createElement("option");
            option.value = subSegment;
            option.textContent = subSegment;
            subSegmentDropdown.appendChild(option);
        });
        subSegmentDropdown.disabled = false;
    }
}

// Function to display selected values
function getSelection() {
    const selectedSector = sectorDropdown.value;
    const selectedSegment = segmentDropdown.value;
    const selectedSubSegment = subSegmentDropdown.value;

    document.getElementById("output").innerText = 
        `Sector: ${selectedSector} | Segment: ${selectedSegment} | Sub-Segment: ${selectedSubSegment}`;
}
